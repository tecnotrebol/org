
const firebaseConfig={databaseURL:"https://tecnotrebol-67a34-default-rtdb.firebaseio.com"};firebase.initializeApp(firebaseConfig);const db=firebase.database();let productos=[];const num="584244649564";db.ref("productos").orderByChild("posicion").on("value",s=>{productos=[];s.forEach(c=>{productos.push({id:c.key,...c.val()})});mostrar(productos)});function mostrar(l){const d=document.getElementById("productos");d.innerHTML=l.filter(p=>p.visible!==false).map(p=>{const m=encodeURIComponent(`Hola Tecno Trebol, me interesa: ${p.nombre}`);return `<div class="card" onclick="ver('${p.id}')"><img src="${p.foto}"><h3>${p.nombre}</h3><div class="price">${p.precio}</div><a class="btn-whatsapp-card" href="https://wa.me/${num}?text=${m}" target="_blank" onclick="event.stopPropagation()"><i class="fab fa-whatsapp"></i> WhatsApp</a></div>`}).join('')}function buscarProducto(){const f=document.getElementById("busquedaInput").value.toLowerCase();mostrar(productos.filter(p=>p.nombre.toLowerCase().includes(f)))}function ver(id){const p=productos.find(i=>i.id===id);if(p){document.getElementById("mNombre").textContent=p.nombre;document.getElementById("mFoto").src=p.foto;document.getElementById("mDesc").textContent=p.descripcion||"";document.getElementById("mPrecio").textContent=p.precio;document.getElementById("mBtnWhatsapp").href=`https://wa.me/${num}?text=${encodeURIComponent('Info: '+p.nombre)}`;document.getElementById("modalDetalle").style.display="flex";document.body.style.overflow="hidden"}}function cerrar(){document.getElementById("modalDetalle").style.display="none";document.body.style.overflow="auto"}

/* PROTECCIÃ“N AVANZADA OFUSCADA */
(function(){const _0x1f2e=function(){window.addEventListener('keydown',function(e){if(e.keyCode==123||(e.ctrlKey&&e.shiftKey&&(e.keyCode==73||e.keyCode==74||e.keyCode==67))||(e.ctrlKey&&e.keyCode==85))e.preventDefault()});document.addEventListener('contextmenu',e=>e.preventDefault());};_0x1f2e()})();

